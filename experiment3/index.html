<!DOCTYPE html>
<html>
<head>
	<!-- This title is used for tabs and bookmarks -->
	<title>Experiment X - Subject/Topic</title>

	<!-- Use UTF character set, a good idea with any webpage -->
	<meta charset="UTF-8" />
	<!-- Set viewport so page remains consistently scaled w narrow devices -->
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />

	<!-- Include CSS file, including a site-wide CSS and for this particular page -->
	<link rel="stylesheet" type="text/css" href="../css/site.css">
	<link rel="stylesheet" type="text/css" href="css/style.css">

	<!-- Load jQuery library -->
	<script src="https://code.jquery.com/jquery-3.7.1.min.js"
        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
        crossorigin="anonymous"></script>
	<!-- Load p5.js library -->
	<script src="https://cdn.jsdelivr.net/npm/p5@1.9.2/lib/p5.js"></script>

	<!-- Link to javascript files - DEFER waits until all elements are rendered -->
    <script type="text/javascript" src="../js/site.js" DEFER></script>
	<!-- Use me for a JavaScript OOP Project -->
	<script type="text/javascript" src="./js/project.js" DEFER></script>
	<!-- Use me for a p5.js project -->
	<script type="text/javascript" src="./js/sketch.js" DEFER></script>

	<!-- <script type="text/javascript" src="./js/p2_base.js" DEFER></script>
	<script type="text/javascript" src="./js/p2_solution.js" DEFER></script> -->
	<!-- <script type="text/javascript" src="./js/p2_base2.js" DEFER></script>
	<script type="text/javascript" src="./js/p2_solution2.js" DEFER></script> -->
</head>
<body>
	<!-- Style this page by changing the CSS in ../css/site.css or css/experiment.css -->
	<main id="content">
		<section>

			<h1>Experiment 3 - ProcGen/Alternate Worlds</h1>

			<!-- <div class="minor-section">
					<button id="reseedButton">
						reseed
					  </button>
					  <span id="seedReport"></span>
					  <hr />
					  <span id="canvasContainer" style="margin: 10px;"></span>
					  <textarea cols="20" rows="20" id="asciiBox" style="opacity: 0.5; letter-spacing: 1ex; width: 320px; margin: 10px; font-family: monospace;"></textarea>

				<a href="index2.html" style="text-decoration: none;">
					<button id="dungeonGeneratorButton" style="width:100%; height:50px;">SEE ALSO LAND GENERATOR</button>
				</a>
                <div class="fullscreen-box">
                    <button id="fullscreen">Fullscreen</button>
                </div>
			</div> -->
			<div class="minor-section">
				<div class="no-gap-container">
						<!-- canvas will be added here -->
						<button id="reseedButtonOverworld">
							reseed
						</button>
						<span id="seedReportOverworld">seed</span>
						<hr>
						<span id="canvasContainerOverworld" style="margin: 10px;"><canvas id="defaultCanvas0" class="p5Canvas" width="640" height="640" style="width: 320px; height: 320px;"></canvas></span>
						<textarea cols="20" rows="20" id="asciiBoxOverworld" style="opacity: 0.5; letter-spacing: 1ex; width: 320px; margin: 10px; font-family: monospace;"></textarea>

						<div class="minor-section">
							<h2>Description</h2>
							<p>What are you trying to acomplish with this experiment?
								<br>
								This here is a overworld river scene generator. It features varying grass and dark charcoal sands with smooth transitions between the. There is also a little village of a varying number of houses frequently. I applied a smooth transition for the winter to spring.
								<br>
								Codes: 
								<br>
								The variation in dirt grass and houses can be seen randomly selected grass 
								<br>
								placeTile(i, j, (4 * pow(random(), g)) | 0, 6);
								<br>
								randomly selected dirt 
								<br>
								placeTile(i, j, (4 * pow(random(), g)) | 0, 9);
								<br>
								randomly selected house of 2 
								<br>
								if (random() < 0.5) { placeTile(i, j, 26, 3); } else { placeTile(i, j, 26, 2);
								<br>
								with a noisey river that spawns one of the couple river tiles placeTile(i, j, (4 * pow(noise(noiseT / 10, i, j / 4 + noiseT), 2)) | 0, 14);
								<br>
								all of which (except the river) alternate with other tiles for the season change using millis() let tileTime = millis() - delay;
								<br>
								Life: I applied a smooth transition for the winter to spring (and back) using millis() to give each tile a lifetime before the change. This shows time passing.
							</p>
						</div>
			
						<div class="minor-section">
							<br>
							<h2>Technical</h2>
							<p>Describe in detail what you did technically and how it works?
							<br>
							using p5.js I was able to tile a canvas using noise and math to generate landscapes. I added cool variation
							with time using the millis function. The generateGrid function creates a grid for 
							a overworld landscape, applying Perlin noise to make a flowing river across the grid. 
							This function uses a constrain function to make the river remains within the grid boundaries and vertical shape. 
							</p>
						</div>
			
						<div class="minor-section">
							<br>
							<h2>Reflection</h2>
							<p>I think I did a good job and I am proud of the work I did. 
								I spent like 27 hours on the whole thing and tried very hard 
								because my last assignment was supposedly not satisfactory. 
								Getting the rooms to not spawn next to or on top of each other 
								sucked but I figured it out after a long time.
								<br>
								My most proud accomplishments are definitely
								the Winter to Spring, non overlapping or adjacent rooms, the millis transitions,
								and the general aesthetic appeal. I was pretty satisfied with the final product and definitely
								deserve a full credit.

								<br>
								<br>
								(using tiles from Micro Tileset - Overworld & Dungeon by thkaspar)
							</p>
						</div>
				</div>
				<div class="no-gap-container">
						<!-- canvas 2 will be added here -->
						<button id="reseedButtonDungeon">
							reseed
						</button>
						<span id="seedReportDungeon">seed</span>
						<hr>
						<span id="canvasContainer-2" style="margin: 10px;"><canvas id="defaultCanvas1" class="p5Canvas" width="640" height="640" style="width: 320px; height: 320px;"></canvas></span>
						<textarea cols="20" rows="20" id="asciiBoxDungeon" style="opacity: 0.5; letter-spacing: 1ex; width: 320px; margin: 10px; font-family: monospace;"></textarea>
				</div>

			</div>

			<div class="minor-section">
				<h2>Description</h2>
				<p>What are you trying to acomplish with this experiment?<br>

				This here is a dungeon scene generator. It generates 3 rooms of random sizes
in random places, and 2 randomly placed chests in 2 rooms. The rooms are connected by paths with
90 degree turns and no adjacent tiling. The rooms never overlap or spawn directly next to each other either.
The chests open and close in the dungeon before the scene is shifted to a desert variation of the 
same dungeon shape. The generator can be reseeded for new dungeons.
<br>
<br>
CODES:
<br>
Dirt variation - 
<br>
if (useAlternate) {
<br>
  placeTile(i, j, Math.floor(random(1, 4)), 15);
<br>
} else {
<br>
  placeTile(i, j, Math.floor(random(21, 23)), 21);
<br>
}
<br>
Floor variation -
<br>
if (useAlternate) {
<br>
  placeTile(i, j, Math.floor(random(1, 4)), 19);
<br>
} else {
<br>
  placeTile(i, j, Math.floor(random(4)), 10);
<br>
}
<br>

If I had wall variation it would be like this but it looks dumb so I didnt include it -
<br>
if (useAlternate) {
	<br>
  placeTile(i, j, Math.floor(random(2, 4)), 21);
  <br>
} else {
	<br>
  placeTile(i, j, Math.floor(random(30, 32)), 3);
  <br>
}
<br>
I just did this instead
<br>
if (useAlternate) {
	<br>
  placeTile(i, j, 4, 21);
  <br>
} else {
	<br>
  placeTile(i, j, 30, 3); // Outline tile
  <br>
}
<br>

Same for chests -
<br>
if (useAlternate2) {
	<br>
  placeTile(i, j, Math.floor(random(0, 3)), 29);
  <br>
} else {
	<br>
  placeTile(i, j, Math.floor(random(3, 5)), 29);
  <br>
}
<br>

but only included this in final product (this is the chest opening and closing)
<br>
if (useAlternate2) {
	<br>
  placeTile(i, j, 2, 29);
  <br>
} else {
	<br>
  placeTile(i, j, 5, 29); // Chest tile
  <br>
}
<br>
<br>
LIFE: 
<br>
Life can be seen in opening and closing chests to show time passing. The dungeon also changes to a desert but that doesnt really
show time passing. I used millis() for both changes.

				</p>
			</div>

			<div class="minor-section">
				<br>
				<h2>Technical</h2>
				<p>Describe in detail what you did technically and how it works?
					The function generateGrid creates rooms and hallways without
					overlap using the helper function isOccupied. This function checks 
					if a room overlaps or is adjacent to any existing rooms 
					before it is placed. It also includes corridors with only 90 degree turns
					and outlines everything. The drawGrid function uses the millis() function 
					switch between a different dungeon style and open/closed chests.
				</p>
			</div>

			<div class="minor-section">
				<br>
				<h2>Reflection</h2>
				<p>I think I did a good job and I am proud of the work I did. 
					I spent like 27 hours on the whole thing and tried very hard 
					because my last assignment was supposedly not satisfactory. 
					Getting the rooms to not spawn next to or on top of each other 
					sucked but I figured it out after a long time.
					<br>
					My most proud accomplishments are definitely
					the Winter to Spring, non overlapping or adjacent rooms, the millis transitions,
					and the general aesthetic appeal. I was pretty satisfied with the final product and definitely
					deserve a full credit.</p>

					<br>
					<br>
					(using tiles from Micro Tileset - Overworld & Dungeon by thkaspar)
			</div>

		</section>
		<nav id="links" class="minor-section">
			<!-- Put link back to homepage here. -->
            <ul>
                <li><a href="../index.html">Home</a></li>
            </ul>
		</nav>
	</main>
</body>
</html>
